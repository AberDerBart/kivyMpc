#:import NavigationDrawer libs.navigationdrawer.NavigationDrawer
#:import iFace Interface.iFace

#:include navbar.kv

<PlayerWidget>:
	drawer: nav_drawer
	canvas:
		Color:
			rgb: 0,0,0
		Rectangle:
			pos: self.pos
			size: self.size
	NavigationDrawer:
		id: nav_drawer
		size: root.size
		pos: root.pos
		min_dist_to_open: 0.5
		Button:
		BoxLayout:
			pos:root.pos
			orientation: "vertical"
			size: root.size
			padding: self.height/10
			NavBar:
				screen: root
				orientation:"horizontal"
			Label:
				font_size:self.height*0.5
				text_size: self.size
				valign: "middle"
				text: iFace.artist
				shorten: True
				shorten_from: "right"
			Label:
				font_size:self.height*0.5
				text_size: self.size
				valign: "middle"
				text: iFace.title
				shorten: True
				shorten_from: "right"
			ProgressBar:
				max: iFace.duration
				value: iFace.elapsed
				size_hint_y: 0.5
			PlaybackButtons:
				
			
<PlaybackButtons>:
	BoxLayout:
		size: root.size
		pos: root.pos

		Button:
			background_color: (0,0,0,0)
			text: u"\u23EE"
			font_name: "/usr/share/fonts/TTF/Symbola.ttf"
			font_size: self.height
			on_press: iFace.prev()
		Button:
			background_color: (0,0,0,0)
			text: u"\u23F9"
			font_name: "/usr/share/fonts/TTF/Symbola.ttf"
			font_size: self.height
			on_press: iFace.stop()
		Button:
			background_color: (0,0,0,0)
			text: u"\u23EF"
			font_name: "/usr/share/fonts/TTF/Symbola.ttf"
			font_size: self.height
			on_press: iFace.toggle()
		Button:
			background_color: (0,0,0,0)
			text: u"\u23ED"
			font_name: "/usr/share/fonts/TTF/Symbola.ttf"
			font_size: self.height
			on_press: iFace.next()
