#:kivy 1.0.6
#:import LibraryWidget Library.LibraryWidget
#:import LibraryItem Library.LibraryItem
#:import iFace Interface.iFace
#:include player.kv

<LibraryItem>:
	Button:
		background_color: (0,0,0,0)
		size_hint_x: 9
		on_press: root.addAction()
		text: root.displayText()
		font_size: self.height * 2/3
		text_size: self.size
		shorten: True
		shorten_from: "right"

<LibraryWidget>:
	BoxLayout:
		orientation:"vertical"
		pos: root.pos
		size: root.size
		padding: self.height/20
		spacing: self.height/20

		ListView:
			size_hint_y: 8
			selected_color: 1,0,0,1
			deselected_color: 0,1,0,1
			adapter:
				SimpleListAdapter(
				data=iFace.libraryView,
				cls=LibraryItem,
				args_converter=lambda row_index,x: {'text':x, 'size_hint_y':None, 'height': 50}
				)

		BoxLayout:
			Button:
				background_color: (0,0,0,0)
				text:u"\u2B05"
				font_name: "/usr/share/fonts/TTF/Symbola.ttf"
				on_press: root.manager.current="player"
				font_size: self.height *2/3
			TextInput:
				on_text_validate: iFace.searchLib(self.text)
				size_hint_x: 8
				multiline: False
				font_size: self.height *2/3
